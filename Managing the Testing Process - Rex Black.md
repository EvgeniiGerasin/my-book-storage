# Managing the Testing Process - Rex Black

2009

## Глава 1. Определение того, что лежит на вашем столе: основа проекта тестирования

  
В этой главе рассматриваются фундаментальные аспекты планирования и организации тестирования как части проекта разработки программного обеспечения. Основная цель - помочь тестировщику понять, что именно нужно тестировать, в каком объеме, в какой последовательности и с учетом каких ограничений.


**Что можно тестировать: расширенные усилия по тестированию**

  

Тестирование не ограничивается только проверкой функциональности. Оно охватывает множество аспектов продукта: от отдельных строк кода до взаимодействия системы с внешними средами. Подход к тестированию должен быть всесторонним и учитывать различные уровни детализации - от мельчайших элементов до целостной системы.

  

**От микроскопа к телескопу: уровень детализации тестирования**

  

Уровень детализации тестирования определяет, насколько глубоко и широко мы проверяем систему. Существуют два основных подхода: структурное (белый ящик) и поведенческое (черный ящик) тестирование.

  

**Структурное (белый ящик) тестирование**

  

Этот тип тестирования предполагает знание внутренней структуры программы - исходного кода, архитектуры, потоков управления и данных. Тестировщик создает тесты на основе анализа логики кода, покрытия ветвей, условий и путей выполнения. Цель - обеспечить максимальное покрытие кода и выявить ошибки, которые могут возникнуть из-за неправильной реализации логики.

  

**Поведенческое (черный ящик) тестирование**

  

При этом подходе тестировщик не имеет доступа к внутреннему устройству системы. Он взаимодействует с ней только через интерфейс - вводит данные, наблюдает за выходами и сравнивает результаты с ожидаемыми. Тесты строятся на основе требований, спецификаций и пользовательских сценариев. Основная задача - проверить, соответствует ли система заявленным функциональным и нефункциональным требованиям.

  

**Живое тестирование**

  

Под живым тестированием понимается тестирование в условиях, максимально приближенных к реальной эксплуатации. Это может включать использование реальных данных, рабочих окружений, сетевых конфигураций и взаимодействие с реальными пользователями. Такой подход позволяет выявить проблемы, которые не проявляются в изолированных тестовых средах.

  

**Взаимодополняемость и непрерывность уровней детализации тестирования**

  

Разные уровни детализации тестирования не конкурируют, а дополняют друг друга. Мелкие тесты (например, модульные) обеспечивают надежность отдельных компонентов, а крупные (например, системные) проверяют, как эти компоненты работают вместе. Использование нескольких уровней позволяет обнаруживать ошибки на разных этапах и с разной глубиной.

  

**Полк или марш? Фазы тестирования**

  

Тестирование не должно быть хаотичным. Оно должно быть организовано в последовательные фазы, каждая из которых имеет свою цель и фокус. Такой подход называется пофазовым тестированием.

  

**Модульное тестирование**

  

Это первый и самый детализированный уровень. Тестировщик проверяет отдельные модули или функции кода, как правило, разработчиком или специалистом по тестированию, работающим с исходным кодом. Цель - убедиться, что каждый небольшой элемент работает корректно в изоляции.

  

**Тестирование компонентов или подсистем**

  

На этом этапе проверяются группы связанных модулей, объединенных в логические компоненты или подсистемы. Например, модуль авторизации вместе с модулем управления сессиями. Цель - убедиться, что компоненты взаимодействуют корректно внутри своей границы.

  

**Интеграционное или продуктное тестирование**

  

Здесь проверяется, как различные компоненты интегрируются друг с другом и работают как единое целое. Тестируются интерфейсы, передача данных, управление состоянием и взаимодействие между подсистемами. Эта фаза выявляет ошибки, возникающие на границах компонентов.

  

**Стринговое тестирование**

  

Это подвид интеграционного тестирования, при котором проверяется последовательность взаимодействия нескольких компонентов в определенной логической цепочке - например, от входа пользователя до формирования отчета. Тестируется не просто взаимодействие, а именно поток данных и управления по заданному сценарию.

  

**Системное тестирование**

  

На этом этапе вся система тестируется как единое целое в среде, максимально приближенной к производственной. Проверяются все функциональные и нефункциональные требования: производительность, безопасность, совместимость, надежность, удобство использования. Цель - убедиться, что система в целом соответствует спецификациям.

  

**Приемочное или пользовательское приемочное тестирование**

  

Эта фаза проводится конечными пользователями или их представителями. Цель - подтвердить, что система решает реальные бизнес-задачи и удовлетворяет ожиданиям пользователей. Тесты основаны на реальных сценариях использования, а не на технических спецификациях.

  

**Пилотное тестирование**

  

Пилотное тестирование - это ограниченное внедрение системы в реальной среде с участием небольшой группы реальных пользователей. Оно проводится перед полномасштабным запуском, чтобы выявить скрытые проблемы, оценить готовность инфраструктуры и обучить пользователей. Это своего рода «предварительный запуск».

  

**Почему я предпочитаю пофазовый подход к тестированию**

  

Пофазовый подход позволяет систематически выявлять и устранять дефекты на ранних этапах, когда их исправление дешевле. Он снижает риски, обеспечивает контроль качества на каждом этапе и дает возможность принимать обоснованные решения о готовности продукта к следующему этапу. Кроме того, он позволяет распределять ресурсы более эффективно и избегать перегрузки команды на поздних стадиях.

  

**Последовательность фаз тестирования**

  

Фазы тестирования должны следовать в логическом порядке: сначала модульное, затем компонентное, интеграционное, стринговое, системное, приемочное и, при необходимости, пилотное. Каждая последующая фаза опирается на результаты предыдущей. Пропуск или сокращение фаз повышает риск выпуска продукта с критическими дефектами.

  

**Первый проход**

  

Первый проход - это начальная итерация тестирования, при которой проверяются основные функции системы. Цель - быстро выявить грубые ошибки, которые могут блокировать дальнейшее тестирование. Это не полное тестирование, а скорее «проверка на жизнеспособность».

  

**Что следует тестировать: рассмотрение качества**

  

Качество - это не просто отсутствие ошибок. Это соответствие требованиям, удовлетворенность пользователей, надежность, удобство, безопасность и другие аспекты. Тестирование должно быть направлено не на то, чтобы найти все ошибки, а на то, чтобы минимизировать риски, связанные с наиболее важными для бизнеса и пользователей аспектами.

  

**Три слепых человека и слон: можно ли определить качество?**

  

Качество воспринимается по-разному разными участниками проекта. Разработчик видит качество в чистоте кода, менеджер - в сроке сдачи, пользователь - в простоте использования. Если не согласовать эти представления, тестирование будет неэффективным. Необходимо установить общее понимание качества на основе бизнес-целей и требований.

  

**Опасности различного восприятия качества**

  

Когда участники проекта имеют разные представления о качестве, возникают конфликты, недопонимание и несоответствие ожиданий. Это приводит к тому, что система может быть технически безупречной, но неприемлемой для пользователей, или наоборот - удобной, но с критическими уязвимостями. Поэтому важно заранее определить, какие аспекты качества являются приоритетными.

  

**Что волнует: как анализировать риски качества**

  

Анализ рисков качества - это систематический процесс выявления и оценки областей системы, где вероятность возникновения дефектов и их последствия наиболее высоки. Цель - сфокусировать тестирование на тех частях, которые могут нанести наибольший ущерб.

  

**Свойства и преимущества аналитического риско-ориентированного тестирования**

  

Аналитический подход к тестированию на основе рисков позволяет:

  

- оптимизировать использование ограниченных ресурсов;

- сосредоточиться на наиболее критичных областях;

- обосновать приоритеты тестирования перед менеджментом;

- уменьшить вероятность серьезных сбоев после выпуска;

- повысить прозрачность процесса тестирования.

  

**Запуск анализа рисков качества с помощью чек-листов**

  

Для начала анализа рисков можно использовать стандартные чек-листы, которые включают типичные категории рисков: функциональные, нефункциональные, организационные, технологические. Например: отсутствие требований, сложные интерфейсы, интеграция с устаревшими системами, высокая нагрузка, необходимость соответствия регламентам. Эти чек-листы помогают не упустить очевидные риски.

  

**Процесс и методы анализа рисков качества**

  

Существует несколько подходов к анализу рисков: экспертные оценки, мозговые штурмы, матрицы приоритизации, анализ сценариев использования. Важно задавать вопросы: какова вероятность возникновения проблемы? Каковы последствия, если она возникнет? Как легко ее обнаружить? Как легко исправить?

  

**Техники и шаблоны анализа рисков качества**

  

Шаблоны помогают стандартизировать процесс. Они включают таблицы с колонками: описание риска, вероятность, влияние, приоритет, ответственный, меры по снижению, статус. Также используются матрицы приоритизации, где риски оцениваются по двум осям: вероятность и воздействие. Это позволяет визуально определить, какие риски требуют наибольшего внимания.

  

**Советы и трудности анализа рисков качества**

  

Основные трудности: недостаток информации, субъективность оценок, давление сроков, отсутствие участия ключевых заинтересованных сторон. Советы: вовлекайте всех заинтересованных сторон, используйте исторические данные, документируйте все решения, пересматривайте риски на каждом этапе, не полагайтесь только на интуицию.

  

**Что можно тестировать: график, ресурсы и бюджет**

  

Тестирование не существует в вакууме. Оно ограничено временем, людьми и деньгами. Нельзя протестировать все. Поэтому необходимо адаптировать объем и глубину тестирования к реальным условиям проекта.

  

**Запихивание: вписывание графика тестирования в проект**

  

Часто тестирование начинается слишком поздно, когда основная разработка уже завершена. Это приводит к сжатым срокам и низкому качеству. Нужно включать тестирование на ранних этапах - с самого начала проектирования. График тестирования должен быть согласован с графиком разработки, а не навязан ему.

  

**Оценка ресурсов и составление бюджета**

  

Оценка требует анализа объема тестирования, сложности системы, доступных инструментов, опыта команды, требований к покрытию, необходимости автоматизации. Бюджет включает затраты на персонал, оборудование, лицензии, обучение, инфраструктуру. Недооценка ресурсов - одна из главных причин неудач тестирования.

  

**Переговоры о жизнеспособном проекте тестирования**

  

Тестировщику часто приходится вести переговоры с менеджментом, чтобы добиться достаточного времени, людей и средств. Необходимо представлять аргументы на основе рисков: если мы не протестируем это, то возможны такие последствия. Убедительность строится на данных, а не на эмоциях. Цель - не победить в споре, а добиться реалистичного и безопасного плана.

  

**Кейс-стади**


В кейсе описывается проект разработки критически важной системы для финансового учреждения — онлайн-банкинг с модулем обработки платежей, интеграцией с внешними банками и системами аутентификации. Проект имел высокие сроки, жесткие требования к безопасности и нулевую терпимость к сбоям. Ранее подобные системы в этой организации терпели неудачи из-за недостаточного тестирования: пользователи не могли войти в систему, переводы пропадали, а данные коррумпировались. В результате — штрафы, потеря репутации, уход клиентов.

На этот раз команда тестирования, возглавляемая опытным менеджером, отказались от традиционного подхода «разработали — сдали — проверили». Вместо этого они внедрили три фундаментальных практики, описанные в главе:

1. **Пофазовый подход к тестированию**
    
    Тестирование началось не с того момента, когда код «был готов», а с самого начала проектирования. Уже на этапе написания требований тестировщики участвовали в ревью, задавали вопросы: «Что произойдет, если сеть отключится во время транзакции?», «Как система отреагирует, если пользователь введет 15 цифр вместо 10?».
    
    Затем последовала строгая последовательность фаз:
    
    - Модульное тестирование: каждый разработчик тестировал свои функции с покрытием не менее 85% ветвей.
    - Компонентное тестирование: модуль аутентификации, модуль логирования и модуль шифрования тестирулись вместе как единый блок.
    - Интеграционное тестирование: проверялось, как система взаимодействует с внешними API банков, как обрабатываются ошибки ответов, как реализовано повторное подключение.
    - Стринговое тестирование: протестированы ключевые пользовательские сценарии — от входа до завершения перевода — в полной цепочке.
    - Системное тестирование: система запущена в среде, идентичной производственной, с реальными объемами данных, нагрузкой в 10 000 одновременных пользователей, симуляцией сбоев сети и отказов серверов.
    - Приемочное тестирование: группа из 20 реальных клиентов (выбранных из базы пользователей) протестировала систему в течение двух недель, используя ее как в реальной жизни.
    - Пилотное тестирование: система была запущена для 5% клиентов в режиме «только чтение» — все операции фиксировались, но не выполнялись. Это позволило выявить скрытые баги в интерфейсе и логике, не рискуя деньгами клиентов.
    
    Каждая фаза завершалась критерием успеха. Если фаза не проходила — проект не переходил на следующий этап. Это остановило разработку, когда были найдены критические ошибки, и дало время на их исправление.
    
2. **Анализ рисков качества**
    
    Команда провела сессию анализа рисков с участием всех ключевых заинтересованных сторон: разработчики, бизнес-аналитики, представители юридического отдела, службы безопасности, поддержки и клиентского сервиса. Они использовали матрицу приоритизации: по оси X — вероятность возникновения риска, по оси Y — влияние на бизнес.
    
    Среди наиболее критичных рисков были выделены:
    
    - Сбой при обработке платежа (вероятность 30%, влияние — критическое: потеря денег клиентов, штрафы регуляторов).
    - Уязвимость в аутентификации (вероятность 25%, влияние — критическое: возможность взлома счетов).
    - Неправильная обработка валютных курсов (вероятность 40%, влияние — высокое: финансовые потери, недовольство клиентов).
    - Медленная работа интерфейса при пиковой нагрузке (вероятность 60%, влияние — среднее: уход клиентов).
    
    На основе этой матрицы было решено:
    
    - Выделить 50% всех тестовых ресурсов на тестирование платежной системы и аутентификации.
    - Создать специальные тест-кейсы для сценариев сбоев сети и повторных попыток.
    - Запустить нагрузочное тестирование с 100% пиковыми нагрузками, а не 80%, как планировалось изначально.
    - Отложить запуск на две недели, чтобы протестировать обработку валютных курсов в условиях колебаний рынка.
    
    Без этого анализа команда могла бы потратить время на тестирование второстепенных функций — например, цвета кнопок или шрифтов — и пропустить настоящие угрозы.
    
3. **Адекватное планирование ресурсов и бюджета**
    
    Первоначально менеджмент выделил на тестирование 10% бюджета проекта и 3 тестировщиков. Команда протестировала эти цифры и представила аргументированный запрос на увеличение до 22% и 8 специалистов, включая эксперта по безопасности и инженера по нагрузочному тестированию.
    
    Аргументы были основаны на:
    
    - Анализе предыдущих проектов: в трех из пяти последних сбоях причина была в недостатке тестирования.
    - Оценке объема: система содержала более 1200 модулей, 8 внешних интеграций, 3000+ тестовых сценариев.
    - Необходимости автоматизации: без автоматизации регрессионного тестирования невозможно было бы повторять 2000+ тестов после каждого изменения.
    
    Бюджет был перераспределен: часть средств выделена на покупку лицензий на инструменты нагрузочного тестирования, часть — на обучение команды, часть — на создание тестовой среды, идентичной производственной.
    
    Результат: тестирование заняло 14 недель вместо запланированных 6, но это было согласовано и одобрено на уровне директора. Проект не сорвал сроки — он просто стал более безопасным.
    

**Итог кейса**

Когда система была запущена в полном объеме, она работала без критических сбоев в течение первых 6 месяцев. Ни один клиент не потерял деньги. Ни один штраф не был наложен. Сервис получил высокие оценки пользователей. Компания сэкономила миллионы долларов, которые бы ушли на откаты, компенсации и восстановление репутации.

Этот кейс-стади не рассказывает о «чуде» или «гении» отдельного человека. Он демонстрирует, что **системный подход** — пофазовое тестирование, анализ рисков, реалистичное планирование — работает. Он показывает, что тестирование — это не вспомогательная деятельность, а центральный элемент управления качеством. И что **недостаток времени, ресурсов или внимания к тестированию — это не просто техническая проблема, а риск для бизнеса**.
